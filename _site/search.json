[
  {
    "objectID": "index.html#introducción",
    "href": "index.html#introducción",
    "title": "Proyecto_BEDU",
    "section": "Introducción",
    "text": "Introducción\nLos hábitos son parte fundamental de la vida de todas las personas, y dependiendo de ellos se moldea el estilo de vida, por lo tanto, esto se ve reflejado en diferentes aspectos; como lo es su personalidad, su estado de salud, sus tipos de lenguaje, entre otros.\nSin embargo, hay acciones que de ser realizadas de una manera constante durante grandes periodos de tiempo pueden llegar a ser demasiado peligrosas que hagan desarrollar graves enfermedades o que inclusive podrían llegar a la muerte. Es por ello que debemos de ser capaces de revocar aquellos malos hábitos o generar nuevos que nos garanticen una mejor calidad de vida y que a la vez prolonguen los años de vitalidad."
  },
  {
    "objectID": "index.html#hipótesis",
    "href": "index.html#hipótesis",
    "title": "Proyecto_BEDU",
    "section": "Hipótesis",
    "text": "Hipótesis\n\\(H_1:\\)\nLa actividad física regular ejerce un efecto protector el cual reduce la incidencia de enfermedades cardiovasculares y metabólicas evidenciado mediante el incremento del índice de supervivencia en adultos mayores de 39 años con factores de riesgo concomitantes.\n\\(H_0:\\)\nLa actividad física regular no ejerce un efecto protector el cual reduce la incidencia de enfermedades cardiovasculares y metabólicas evidenciado mediante el incremento del índice de supervivencia en adultos mayores de 39 años con factores de riesgo concomitantes."
  },
  {
    "objectID": "index.html#desarrollo",
    "href": "index.html#desarrollo",
    "title": "Proyecto_BEDU",
    "section": "Desarrollo",
    "text": "Desarrollo\nAntes de realizar el análisis, el documento se depura por medio de Python, para no tener valores nulos, corregir el tipo de dato (en casos necesario), etc.\n\nAnálisis\nSe cargan las paqueterías necesarias :\n\nlibrary(readr)\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(ggplot2)\nlibrary(survival)\nlibrary(survminer)\n\nLoading required package: ggpubr\n\n\n\nAttaching package: 'survminer'\n\n\nThe following object is masked from 'package:survival':\n\n    myeloma\n\nlibrary(skimr)\nlibrary(ggpmisc)\n\nLoading required package: ggpp\n\n\nRegistered S3 methods overwritten by 'ggpp':\n  method                  from   \n  heightDetails.titleGrob ggplot2\n  widthDetails.titleGrob  ggplot2\n\n\n\nAttaching package: 'ggpp'\n\n\nThe following object is masked from 'package:ggplot2':\n\n    annotate\n\n\nWarning in .recacheSubclasses(def@className, def, env): undefined subclass\n\"ndiMatrix\" of class \"replValueSp\"; definition not updated\n\n\nRegistered S3 method overwritten by 'ggpmisc':\n  method                  from   \n  as.character.polynomial polynom\n\nlibrary(cowplot)\n\n\nAttaching package: 'cowplot'\n\n\nThe following object is masked from 'package:ggpubr':\n\n    get_legend\n\nlibrary(caret)\n\nLoading required package: lattice\n\n\n\nAttaching package: 'caret'\n\n\nThe following object is masked from 'package:survival':\n\n    cluster\n\n\nSe carga el documento que se ha limpiado previamente:\n\ndatos &lt;- read.csv(\"https://raw.githubusercontent.com/JuanCGarciaA/BDPrevencionCardiacaBEDU/main/heart_data_2.csv\")\n\n(Entre las comillas va la dirección de nuestro archivo.)\nPrimero se observa de una manera breve los datos que tiene el archivo:\n\nstr(datos)\n\n'data.frame':   68734 obs. of  14 variables:\n $ index      : int  0 1 2 3 4 5 6 7 8 9 ...\n $ id         : int  0 1 2 3 4 8 9 12 13 14 ...\n $ age        : int  18393 20228 18857 17623 17474 21914 22113 22584 17668 19834 ...\n $ gender     : int  2 1 1 2 1 1 1 2 1 1 ...\n $ height     : int  168 156 165 169 156 151 157 178 158 164 ...\n $ weight     : num  62 85 64 82 56 67 93 95 71 68 ...\n $ ap_hi      : int  110 140 130 150 100 120 130 130 110 110 ...\n $ ap_lo      : int  80 90 70 100 60 80 80 90 70 60 ...\n $ cholesterol: int  1 3 3 1 1 2 3 3 1 1 ...\n $ gluc       : int  1 1 1 1 1 2 1 3 1 1 ...\n $ smoke      : int  0 0 0 0 0 0 0 0 0 0 ...\n $ alco       : int  0 0 0 0 0 0 0 0 0 0 ...\n $ active     : int  1 1 0 1 0 0 1 1 1 0 ...\n $ cardio     : int  0 1 1 1 0 0 0 1 0 0 ...\n\n\nAlgunas variables hacen referencia a medidas bioquimicas(ap_hi, ap_lo, cholesterol,gluc, cardio), a algunos hábitos (smoke, alco,active), y otras a aspetos generales (gender, height, weight).\nSe calcula en valor del IMC para cada registro, de igual manera, se determina si una persona tiene hipertensión mediante su nivel de presión sistólica. Tambien se observa que tenemos la edad en días por lo que consideramos más conveniente cambiarlo a años.\n\ndatos &lt;- datos %&gt;%\n  mutate(edad_anos =  ceiling(age / 365.25),\n         IMC = weight / (height/100)^2,\n         hipertension = ifelse(ap_hi &gt; 130, 1, 0))\n\nSe obtiene el análisis descriptivo de todas las variables:\n\nsummary(datos)\n\n     index             id             age            gender     \n Min.   :    0   Min.   :    0   Min.   :14275   Min.   :1.000  \n 1st Qu.:17496   1st Qu.:25001   1st Qu.:17658   1st Qu.:1.000  \n Median :35012   Median :50018   Median :19701   Median :1.000  \n Mean   :35002   Mean   :49976   Mean   :19465   Mean   :1.349  \n 3rd Qu.:52488   3rd Qu.:74870   3rd Qu.:21324   3rd Qu.:2.000  \n Max.   :69999   Max.   :99999   Max.   :23713   Max.   :2.000  \n     height          weight           ap_hi           ap_lo       \n Min.   : 55.0   Min.   : 11.00   Min.   : 80.0   Min.   : 40.00  \n 1st Qu.:159.0   1st Qu.: 65.00   1st Qu.:120.0   1st Qu.: 80.00  \n Median :165.0   Median : 72.00   Median :120.0   Median : 80.00  \n Mean   :164.4   Mean   : 74.12   Mean   :126.6   Mean   : 81.36  \n 3rd Qu.:170.0   3rd Qu.: 82.00   3rd Qu.:140.0   3rd Qu.: 90.00  \n Max.   :250.0   Max.   :200.00   Max.   :220.0   Max.   :160.00  \n  cholesterol         gluc           smoke              alco        \n Min.   :1.000   Min.   :1.000   Min.   :0.00000   Min.   :0.00000  \n 1st Qu.:1.000   1st Qu.:1.000   1st Qu.:0.00000   1st Qu.:0.00000  \n Median :1.000   Median :1.000   Median :0.00000   Median :0.00000  \n Mean   :1.365   Mean   :1.226   Mean   :0.08801   Mean   :0.05355  \n 3rd Qu.:2.000   3rd Qu.:1.000   3rd Qu.:0.00000   3rd Qu.:0.00000  \n Max.   :3.000   Max.   :3.000   Max.   :1.00000   Max.   :1.00000  \n     active           cardio         edad_anos          IMC         \n Min.   :0.0000   Min.   :0.0000   Min.   :40.00   Min.   :  3.472  \n 1st Qu.:1.0000   1st Qu.:0.0000   1st Qu.:49.00   1st Qu.: 23.875  \n Median :1.0000   Median :0.0000   Median :54.00   Median : 26.346  \n Mean   :0.8034   Mean   :0.4949   Mean   :53.79   Mean   : 27.523  \n 3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:59.00   3rd Qu.: 30.119  \n Max.   :1.0000   Max.   :1.0000   Max.   :65.00   Max.   :298.667  \n  hipertension   \n Min.   :0.0000  \n 1st Qu.:0.0000  \n Median :0.0000  \n Mean   :0.2731  \n 3rd Qu.:1.0000  \n Max.   :1.0000  \n\n\nSe calisfican los registros de acuerdo a su valor de IMC:\n\ndatos$IMC_categoria &lt;- cut(\n  datos$IMC,\n  breaks = c(-Inf, 18.5, 25, 30, Inf),\n  labels = c(\"Bajo Peso\", \"Normal\", \"Sobrepeso\", \"Obesidad\")\n)\n\nSe hace una copia de varias columnas categóricas ya que más adelante son modificadas para mayor comprensión:\n\ndatos$cardioND &lt;- datos$cardio\ndatos$smokeND &lt;- datos$smoke\ndatos$alcoND &lt;- datos$alco\ndatos$activeND &lt;- datos$active\n\nSe grafica la distribución en base a la clasificación del IMC:\n\n# Visualización: Gráfico de barras para la distribución del IMC\nggplot(datos, aes(x=IMC_categoria, fill=IMC_categoria)) +\n  geom_bar() +\n  labs(x=\"Categoría IMC\", y=\"Cantidad\", title=\"Distribución de IMC en la Población\")\n\n\n\n\nSe observa que, los datos se encuentran sesgados hacia la derecha, lo cual puede considerarse malo, debido a que hay un gran porcentaje dentro de los grupos de Sobrepreso y Obesidad.\n\n\nPredicción de infarto\nAntes de ir de realizar un modelo, se difiven los registros en grupos de acuerdo a la edad, para un mejor estudio:\n\ndatos$edad_grupo &lt;- cut(datos$edad_anos, breaks = 5)\n\nSe crea el modelo, en este caso binomial, ya que solo nos interesa saber si una persona debido a sus caracteristicas puede tener un infarto(exito) o no(fracaso).\n\nmodelo_infarto &lt;- glm(cardio ~ edad_grupo + gender + IMC_categoria + hipertension +\n                      cholesterol  + gluc + smoke + alco + active,\n                      family = binomial, data = datos)\n\nYa con el modelo, se obtiene una exploración significativa del mismo:\n\nsummary(modelo_infarto)\n\n\nCall:\nglm(formula = cardio ~ edad_grupo + gender + IMC_categoria + \n    hipertension + cholesterol + gluc + smoke + alco + active, \n    family = binomial, data = datos)\n\nCoefficients:\n                       Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)            -2.29750    0.10565 -21.746  &lt; 2e-16 ***\nedad_grupo(45,50]       0.46931    0.03197  14.678  &lt; 2e-16 ***\nedad_grupo(50,55]       0.55927    0.02954  18.934  &lt; 2e-16 ***\nedad_grupo(55,60]       0.87436    0.02927  29.877  &lt; 2e-16 ***\nedad_grupo(60,65]       1.27322    0.03188  39.941  &lt; 2e-16 ***\ngender                  0.09689    0.01956   4.952 7.33e-07 ***\nIMC_categoriaNormal     0.45715    0.09777   4.676 2.93e-06 ***\nIMC_categoriaSobrepeso  0.68107    0.09781   6.963 3.33e-12 ***\nIMC_categoriaObesidad   0.89152    0.09841   9.060  &lt; 2e-16 ***\nhipertension            1.96056    0.02251  87.098  &lt; 2e-16 ***\ncholesterol             0.51918    0.01548  33.534  &lt; 2e-16 ***\ngluc                   -0.10639    0.01763  -6.036 1.58e-09 ***\nsmoke                  -0.16286    0.03466  -4.699 2.62e-06 ***\nalco                   -0.19160    0.04207  -4.554 5.26e-06 ***\nactive                 -0.23969    0.02174 -11.023  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 95279  on 68733  degrees of freedom\nResidual deviance: 78033  on 68719  degrees of freedom\nAIC: 78063\n\nNumber of Fisher Scoring iterations: 4\n\n\n### Presión Arterial\n\n# Análisis de la presión arterial\nggplot(datos, aes(x=ap_hi, y=ap_lo, color=hipertension)) + geom_point()\n\n\n\n\n\n\nRelaciones\n\nHábitos vs Enfermedades Cardicas\nSe cambian los valores las columnas a valores descriptivos para una mejor visualización\n\ndatos$cardio[datos$cardio == 0 ] &lt;- 'Sin enfermedad'\ndatos$cardio[datos$cardio == 1 ] &lt;- 'Con enfermedad'\ndatos$smoke[datos$smoke == 0 ] &lt;- 'No fumador'\ndatos$smoke[datos$smoke == 1 ] &lt;- 'Fumador'\ndatos$alco[datos$alco == 0 ] &lt;- 'No alcoholico'\ndatos$alco[datos$alco == 1 ] &lt;- 'Alcoholico'\ndatos$active[datos$active == 0 ] &lt;- 'Sin actividad'\ndatos$active[datos$active == 1 ] &lt;- 'Activo'\n\nPor otro lado, para poder ver como se relacionan los hábitos, y si estos se pueden considerar como factores que hacen que una persona sea propensa a una enfermedad cardiaca; se representan a través de tablas de frecuencias, y para ello se utiliza una función que nos ayuda a sacar las frecuencias relativas en relación a dos variables.\n\nfreq.table &lt;- function (x, y, z){substitute(x %&gt;%\n                                              group_by(y, z) %&gt;%\n                                              summarise(n = n ()) %&gt;%\n                                              mutate(freq = n / sum (n)))%&gt;% eval}\n\nCon lo anterior se calcula la frecuencia relativa en base a enfermedades cardiacas vs alcoholismo:\n\nalco &lt;- freq.table(datos, alco, cardio)\n\n`summarise()` has grouped output by 'alco'. You can override using the\n`.groups` argument.\n\nalco\n\n# A tibble: 4 × 4\n# Groups:   alco [2]\n  alco          cardio             n  freq\n  &lt;chr&gt;         &lt;chr&gt;          &lt;int&gt; &lt;dbl&gt;\n1 Alcoholico    Con enfermedad  1758 0.478\n2 Alcoholico    Sin enfermedad  1923 0.522\n3 No alcoholico Con enfermedad 32261 0.496\n4 No alcoholico Sin enfermedad 32792 0.504\n\n\nAsí mismo, se hace la prueba del Chi cuadrado, para saber si el alcoholismo afecta en que una persona pueda tener una enfermedad cardiaca o no.\n\nalcochi&lt;-chisq.test(datos$cardio, datos$alco)\n\nRealizamos la grafica, sin embargo la proyectamos más adelante para realizar una comparación con otras variables.\n\nalco.plot&lt;-  ggplot(data = alco,  aes(x = cardio, y = freq, fill = cardio)) +\n  geom_bar(stat='identity', \n           colour = 'black',\n           width=.75)+ \n  geom_text(aes(label=round(freq,2)), \n            position=position_dodge(width=0.9), \n            vjust=-0.25)+\n  ylim (0, 1)+\n  facet_grid(~alco)+ #Se separa en un grid.\n  scale_fill_manual(values=c( \"#EB2A2A\", \"#3AE457\"))+\n  theme_half_open(12)+\n  panel_border()+\n  ggtitle(\"Alcohol\")+ #Se agrega el titulo\n  theme(plot.title = element_text(hjust = 0.5), #Centrado de titulo\n        axis.title.x=element_blank(), #Se elimina la visualización de las variables en la grafica\n        axis.text.x=element_blank(),\n        axis.ticks.x=element_blank())+\n  labs(y = \"Proporción\",\n       subtitle = paste(\"χ2 test; p-value: \", alcochi$p.value)) \n\nDe igual manera, se hace lo del caso anterior, pero para las variables : active y smoke.\nActividad física vs Enfermedad Cardiaca\n\nactive&lt;-freq.table(datos, active, cardio)\n\n`summarise()` has grouped output by 'active'. You can override using the\n`.groups` argument.\n\nactive\n\n# A tibble: 4 × 4\n# Groups:   active [2]\n  active        cardio             n  freq\n  &lt;chr&gt;         &lt;chr&gt;          &lt;int&gt; &lt;dbl&gt;\n1 Activo        Con enfermedad 26822 0.486\n2 Activo        Sin enfermedad 28400 0.514\n3 Sin actividad Con enfermedad  7197 0.533\n4 Sin actividad Sin enfermedad  6315 0.467\n\n\nPrueba de Chi Cuadrado:\n\nactivechi&lt;-chisq.test(datos$cardio, datos$active)\n\nEnseguida realizamos la gráfica:\n\nactive.plot&lt;-ggplot(data = active,  aes(x = cardio, y = freq, fill = cardio)) +\n  geom_bar(stat='identity', colour = 'black',  width=0.75)+ \n  geom_text(aes(label=round(freq,2)), position=position_dodge(width=0.9), vjust=-0.25)+\n  ylim (0, 1)+\n  facet_grid(~active)+ #Se separa en un grid.\n  scale_fill_manual(values=c(\"#EB2A2A\", \"#3AE457\"))+\n  theme_half_open(12)+\n  panel_border()+\n  ggtitle(\"Actividad\")+ #Se agrega el titulo\n  theme(plot.title = element_text(hjust = 0.5), #Centrado de titulo\n        axis.title.x=element_blank(), #Se elimina la visualización de las variables en la grafica\n        axis.text.x=element_blank(),\n        axis.ticks.x=element_blank())+ \n  labs(y = \"Proporción\",\n       subtitle = paste(\"χ2 test; p-value: \", activechi$p.value))\n\nFumador x Enfermedad Cardiaca:\n\nsmoke &lt;- freq.table(datos, smoke, cardio)\n\n`summarise()` has grouped output by 'smoke'. You can override using the\n`.groups` argument.\n\nsmoke\n\n# A tibble: 4 × 4\n# Groups:   smoke [2]\n  smoke      cardio             n  freq\n  &lt;chr&gt;      &lt;chr&gt;          &lt;int&gt; &lt;dbl&gt;\n1 Fumador    Con enfermedad  2836 0.469\n2 Fumador    Sin enfermedad  3213 0.531\n3 No fumador Con enfermedad 31183 0.497\n4 No fumador Sin enfermedad 31502 0.503\n\n\nPrueba de Chi Cuadrado :\n\nsmokechi&lt;-chisq.test(datos$cardio, datos$smoke)\n\nY la gráfica :\n\nsmoke.plot &lt;- ggplot(data = smoke, aes(x = cardio, y = freq, fill = cardio)) +\n  geom_bar(stat='identity', colour = 'black',  width=0.75)+ \n  geom_text(aes(label=round(freq,2)), position=position_dodge(width=0.9), vjust=-0.25)+\n  ylim (0, 1)+\n  facet_grid(~factor(smoke, levels=c('Fumador', 'No fumador')))+ #Se separa en un grid.\n  scale_fill_manual(values=c(\"#EB2A2A\", \"#3AE457\"))+\n  theme_half_open(12)+\n  panel_border()+\n  ggtitle(\"Fumadores\")+ #Se agrega el titulo\n  theme(plot.title = element_text(hjust = 0.5), #Se centra el titulo\n        axis.title.x=element_blank(), #Se elimina la visualización de las variables en la grafica\n        axis.text.x=element_blank(),\n        axis.ticks.x=element_blank())+ \n  labs( y = \"Proporción\",\n        subtitle = paste(\"χ2 test; p-value:\", smokechi$p.value))\n\nFinalmente, se realiza la comparación que se mencionó anteriormente. A continuación presentamos las tres gráficas anteriores, para poder sacar nuestras conclusiones:\n\n#Graficas del estilo de vida.\nlifestyle.plot&lt;-plot_grid(alco.plot + theme(legend.position=\"none\"),\n                          active.plot + theme(legend.position=\"none\"),\n                          smoke.plot + theme(legend.position=\"none\"),\n                          ncol=3) \n#Titulo general\ntitle &lt;- ggdraw() + draw_label(\"Estilo de vida afecta en problemas cardiacos.\",\n                               fontface='bold')\n\nlifestyle.plot&lt;- plot_grid(title,\n                           lifestyle.plot,\n                           ncol = 1,\n                           rel_heights=c(0.1, 1))\n\n#Se crea las leyendas\nlegend &lt;- get_legend(smoke.plot +theme(legend.position = c(.45,.5),\n                                       legend.direction=\"horizontal\"))\n\n\nlifestyle.plot&lt;-plot_grid(lifestyle.plot,\n                          legend,\n                          ncol=1,\n                          rel_heights = c(1, .05))\n\nlifestyle.plot\n\n\n\n\n\n\nRasgos cualitativos vs Enfermedad Cardiaca\nUna característica muy representativa de las personas es su género, por consecuencia puede que esto sea un factor perjudicial para poder desarrollar una enfermedad de este tipo debido al tipo de cuerpo y a todo lo que involucra. Por tanto, hemos de comprobar si este afecta o no. Primero se obtienen las frecuencias de la relación:\n\ngender &lt;- freq.table(datos, gender, cardio)\n\n`summarise()` has grouped output by 'gender'. You can override using the\n`.groups` argument.\n\ngender\n\n# A tibble: 4 × 4\n# Groups:   gender [2]\n  gender cardio             n  freq\n   &lt;int&gt; &lt;chr&gt;          &lt;int&gt; &lt;dbl&gt;\n1      1 Con enfermedad 22037 0.492\n2      1 Sin enfermedad 22727 0.508\n3      2 Con enfermedad 11982 0.500\n4      2 Sin enfermedad 11988 0.500\n\n\nSe realiza nuestra prueba de Chi:\n\ngenderchi&lt;-chisq.test(datos$gender, datos$cardio)\n\nSe crea la gráfica:\n\ngender.plot&lt;-ggplot(gender, aes(x = cardio, y = freq,  fill = cardio))+\n  geom_bar(stat='identity', colour = 'black',  width=0.75)+ \n  ylim (0, 1)+\n  geom_text(aes(label=round(freq,2)), position=position_dodge(width=0.9), vjust=-0.25)+\n  facet_grid(~gender)+ #Se divide por genero\n  scale_fill_manual(values=c(\"#EB2A2A\", \"#3AE457\"))+ \n  theme_half_open(12)+\n  panel_border()+\n  ggtitle(\"Proporción por genero en enfermedades cardiacas.\")+ #Se agrega titulo\n  theme(plot.title = element_text(hjust = 0.5),\n        axis.title.x=element_blank(), #Se elimina la visualización de las variables en la grafica\n        axis.text.x=element_blank(),\n        axis.ticks.x=element_blank())+ \n  labs(x = \"\", y = \"Proporción\",\n       subtitle = paste(\"χ2 test; p-value:\", genderchi$p.value)) \n\nY se visualiza:\n\ngender.plot\n\n\n\n\n\n\nRasgos cuantitativos vs Enfermedad Cardiaca\nAhora bien, tenemos otras cualidades que aunque no sean tan visibles puedan perjudicarnos, tal es el caso de la glucosa y el colesterol, así que se analizan también: Primero se realiza con el colesterol, obteniendo sus frecuencias:\n\ncholesterol&lt;-freq.table(datos, cholesterol, cardio)\n\n`summarise()` has grouped output by 'cholesterol'. You can override using the\n`.groups` argument.\n\ncholesterol\n\n# A tibble: 6 × 4\n# Groups:   cholesterol [3]\n  cholesterol cardio             n  freq\n        &lt;int&gt; &lt;chr&gt;          &lt;int&gt; &lt;dbl&gt;\n1           1 Con enfermedad 22456 0.436\n2           1 Sin enfermedad 29088 0.564\n3           2 Con enfermedad  5550 0.596\n4           2 Sin enfermedad  3757 0.404\n5           3 Con enfermedad  6013 0.763\n6           3 Sin enfermedad  1870 0.237\n\n\nSe realiza la prueba de Chi Cuadrado:\n\ncholchi&lt;-chisq.test(datos$cholesterol, datos$cardio)\n\nE inmediatamente se crea la grafica :\n\ncholesterol.plot&lt;-ggplot(cholesterol, aes(x = cholesterol, y = freq,  fill = cardio))+\n  geom_bar(stat = 'identity', width=0.85, position = position_fill (reverse = TRUE))+\n  scale_fill_manual(values=c(\"#EB2A2A\", \"#3AE457\"))+\n  theme_half_open(12)+\n  panel_border()+\n  ggtitle(\" Colesterol\")+ #Se agrega el titulo\n  theme(plot.title = element_text(hjust = 0.5))+ #Se centra el titulo\n  labs(x = \"Nivel de colesterol\", y = \"Proporción\",\n       subtitle = paste(\"χ2 test; p-value:\", cholchi$p.value)) \n\nSe realiza lo mismo para la glucosa, se calculan las frecuencias:\n\ngluc&lt;-freq.table(datos, gluc, cardio)\n\n`summarise()` has grouped output by 'gluc'. You can override using the\n`.groups` argument.\n\ngluc\n\n# A tibble: 6 × 4\n# Groups:   gluc [3]\n   gluc cardio             n  freq\n  &lt;int&gt; &lt;chr&gt;          &lt;int&gt; &lt;dbl&gt;\n1     1 Con enfermedad 27798 0.476\n2     1 Sin enfermedad 30636 0.524\n3     2 Con enfermedad  2985 0.589\n4     2 Sin enfermedad  2085 0.411\n5     3 Con enfermedad  3236 0.619\n6     3 Sin enfermedad  1994 0.381\n\n\nSe realiza la prueba de Chi al cuadrado:\n\nglucchi&lt;-chisq.test(datos$gluc, datos$cardio)\n\nSe crea la gráfica:\n\ngluc.plot&lt;-ggplot(gluc, aes(x = gluc, y = freq,  fill = cardio))+\n  geom_bar(stat = 'identity', width=0.85, position = position_fill (reverse = TRUE))+\n  scale_fill_manual(values=c(\"#EB2A2A\", \"#3AE457\"))+\n  theme_half_open(12)+\n  panel_border()+\n  ggtitle(\"Glucosa\")+ \n  theme(plot.title = element_text(hjust = 0.5))+\n  labs(x = \"Nivel de glucosa\", y = \"Proporción\",\n       subtitle = paste(\"χ2 test; p-value:\", glucchi$p.value)) \n\nA final se realiza un comparativo de ambas variables, por medio de sus gráficas, así que se visualizan juntas:\n\ngluc_and_chol&lt;-plot_grid(cholesterol.plot+ theme(legend.position=\"none\"),\n                         gluc.plot+ theme(legend.position=\"none\"),\n                         ncol=2,\n                         rel_heights = c(1, .1))\n\ntitle_chol &lt;- ggdraw() + draw_label(\"Efecto del colesterol y glucosa en las enfermedaddes cardiacas\", fontface='bold')          \n\ngluc_and_chol&lt;- plot_grid(title_chol,\n                          gluc_and_chol,\n                          ncol = 1,\n                          rel_heights=c(0.1, 1))\n\ngluc_and_chol&lt;-plot_grid(gluc_and_chol,\n                         legend,\n                         ncol=1,\n                         rel_heights = c(1, .05))\n\nVisualización:\n\ngluc_and_chol\n\n\n\n\nPr otro lado, hay otro dato cuantitativo: la edad; pero este se analiza por separado ya que no tiene relación con los otros dos anteriores. Se crea la tabla de frecuencias:\n\nage &lt;- freq.table(datos, edad_anos, cardio)\n\n`summarise()` has grouped output by 'edad_anos'. You can override using the\n`.groups` argument.\n\n\nSe realiza la gráfica:\n\nage.plot&lt;-ggplot(age, aes(x = edad_anos, y = freq,  fill = cardio))+\n  geom_bar(stat = 'identity', width=0.85, position = position_fill (reverse = TRUE))+\n  scale_fill_manual(values=c(\"#EB2A2A\", \"#3AE457\"))+\n  theme_half_open(12)+\n  panel_border()+\n  ggtitle(\"Proporción de edad\")+ #Titulo\n  theme(plot.title = element_text(hjust = 0.5))+ #Centrado de titulo\n  labs(x = \"Edad\", y = \"Proporción\" )\n\nDespués nos enfocamos unicamente en aquellos que estan enfermos, y obtenemos el valor de su correlación:\n\nage.1&lt;-subset(age, cardio == \"Con enfermedad\") #Nos enfocamos solo en los que tienen enfermedad\n\ncorage&lt;-cor(age.1$edad_anos,age.1$freq)\n\nAquí observamos una correlacion del 0.97, lo cual podría considerarse como bueno. Se grafica lo que obtuvimos anteriormente :\n\nage.tendency.plot&lt;-ggplot(data = age.1, aes(x = edad_anos, y = freq, fill = cardio)) +\n  stat_poly_line(color=\"#0C457D\") +#Se agrega la linea de tendencia\n  stat_poly_eq(aes(label = paste(after_stat(eq.label),\n                                 after_stat(rr.label), \n                                 sep = \"*\\\", \\\"*\")))+ #Se agrega la ecuación y la r2\n  geom_point(color=\"#EB2A2A\")+\n  geom_line(color=\"#EB2A2A\")+\n  ylim(0,1)+\n  theme_half_open(12)+\n  panel_border()+\n  ggtitle(\"Tendencia de edad\")+ #Se agrega el titulo\n  theme(plot.title = element_text(hjust = 0.5))+ #Centrado de titulo\n  labs(x = \"Edad\", y = \"Proporción\" )\n\nY ahora se hacen visibles ambas gráficas:\n\n#Se ponen las dos graficas en un mismo espacio\nages.plot&lt;-plot_grid(age.plot+ theme(legend.position=\"none\"),\n                     age.tendency.plot+ theme(legend.position=\"none\"),\n                     ncol=2,\n                     rel_heights = c(1, .1))\n\ntitle_ages &lt;- ggdraw() + draw_label(\"Tendencia de la edad en las enfermedades cardiovasculares.\",\n                                    fontface='bold')          \n\nages.plot&lt;- plot_grid(title_ages,\n                      ages.plot,\n                      ncol = 1,\n                      rel_heights=c(0.1, 1))\n\nages.plot&lt;-plot_grid(ages.plot,\n                     legend,\n                     ncol=1,\n                     rel_heights = c(1, .05))\n\nages.plot\n\n\n\n\n\n\nIMC vs Enfermedad Cardiaca\nComo sabemos el IMC es una medida que depende del peso y la altura, es por ello, que se analizan a través de esta medida. Primero hemos de eliminar aquellos valores que se consideran atipicos, para no tener valores extremos ni muy pequeños; y se hará aplicando el método de IQR:\n\nIQRmethod &lt;- function(x,y){quartiles &lt;- quantile(y, probs=c(.25, .75),\n                                                 na.rm = FALSE)\nno_outlier &lt;- subset(x, y &gt; quartiles[1] - 1.5*IQR(y) & y &lt; quartiles[2] + 1.5*IQR(y))\nreturn(no_outlier)}\n\nAhora se eliminan los datos atipicos:\n\nimc_cutt &lt;- IQRmethod(datos, datos$IMC)\n\nYa sin esos registros se obtienen las frecuencias:\n\nbmi&lt;-freq.table(imc_cutt, IMC_categoria, cardio)\n\n`summarise()` has grouped output by 'IMC_categoria'. You can override using the\n`.groups` argument.\n\n\nSe realiza la gráfica:\n\nbmi.plot&lt;-ggplot(bmi, aes(x = IMC_categoria, y = freq, fill = cardio))+\n  geom_bar(stat = 'identity', width=0.85, position = position_fill (reverse = TRUE))+\n  scale_fill_manual(values=c(\"#EB2A2A\", \"#3AE457\"))+\n  theme_half_open(12)+\n  panel_border()+\n  ggtitle(\"Proporción del índice de masa corporal (IMC)\")+ #Titulo\n  theme(plot.title = element_text(hjust = 0.5))+ #Centrado de titulo\n  labs(x = \"Categoría IMC\", y = \"Proporción\" )\n\nSe obtiene la tabla de frecuencias, redondeando el valor del IMC\n\nbmi.round&lt;-freq.table(imc_cutt, round(IMC), cardio)\n\n`summarise()` has grouped output by 'round(IMC)'. You can override using the\n`.groups` argument.\n\n\nSe realiza el enfoque con aquellos que estan enfermos:\n\nbmi.1&lt;-subset(bmi.round, cardio == \"Con enfermedad\")\n\nSe obtiene el valor de la correlación:\n\ncorbmi&lt;-cor(bmi.1$`round(IMC)`,bmi.1$freq)\n\nSe realiza la gráfica de lo anterior:\n\nbmi.tendency.plot&lt;-ggplot(data = bmi.1, aes(x = `round(IMC)`, y = freq, fill = cardio)) +\n  stat_poly_line(color=\"#0C457D\") + #Se agrega la linea de dentencia\n  stat_poly_eq(aes(label = paste(after_stat(eq.label), #Ecuacion r2\n                                 after_stat(rr.label), \n                                 sep = \"*\\\", \\\"*\")))+\n  geom_point(color=\"#EB2A2A\")+\n  geom_line(color=\"#EB2A2A\")+\n  ylim(0,1)+\n  theme_half_open(12)+\n  panel_border()+\n  ggtitle(\"IMC tendencia\")+ #Titulo\n  theme(plot.title = element_text(hjust = 0.5))+ #Centrado de titulo\n  labs(x = \"IMC\", y = \"Proporción\" )\n\nSe ponen ambas gráficas en un solo espacio:\n\nbmi.plot1&lt;-plot_grid(bmi.plot+ theme(legend.position=\"none\"),\n                     bmi.tendency.plot+ theme(legend.position=\"none\"),\n                     ncol=2,\n                     rel_heights = c(1, .1))\n\ntitle_bmi &lt;- ggdraw() + draw_label(\"Tendencia del IMC en enfermedades cardiovasculares\", fontface='bold')          \n\nbmi.plot1&lt;- plot_grid(title_bmi,\n                      bmi.plot1,\n                      ncol = 1,\n                      rel_heights=c(0.1, 1))\n\nbmi.plot1&lt;-plot_grid(bmi.plot1,\n                     legend,\n                     ncol=1,\n                     rel_heights = c(1, .05))\n\nY se visualizan:\n\nbmi.plot1\n\n\n\n\n\n\n\nCurvas de Kaplan-Meier para supervivencia\n“Este método se usa principalmente para obtener curvas de supervivencia a partir de de los datos de tiempo de vida… obtiene una estimacion de la función de supervivencia por medio de una función escalonada” (Uribe,J.C.S.,García Cruz,E.K.,Gaviria Peña,C.,Guarín Escudero,V.(2020).’Introducción al análisis de supervivencia avanzada’.Colombia:Editorial Bonaventuriano.)\nPrimero se calculan los valores, con ayuda de las fuciones Suv() y survfit():\n\nsurv_obj &lt;- Surv(time = datos$edad_anos, event = datos$cardioND)\nsurv_fit &lt;- survfit(surv_obj ~ IMC_categoria, data = datos)\nggsurvplot(surv_fit, data = datos, pval = TRUE)\n\n\n\n\nSe hace visible el resultado por medio de una grafica:\n\nggplot(datos, aes(x = IMC)) + geom_histogram(binwidth = 1, fill = 'blue', alpha = 0.7) + labs(title = \"Distribución del IMC\") + scale_x_continuous(limits = c(0,75))\n\nWarning: Removed 31 rows containing non-finite values (`stat_bin()`).\n\n\nWarning: Removed 2 rows containing missing values (`geom_bar()`).\n\n\n\n\n\n\n\nAdicionales\nSe crea una tabla de contingencia con la relación entre actividad física y enfermedad cardiaca. Esto para verificar estos datos categóricos.\n\ntabla_contingencia &lt;- with(datos, table(activeND, cardioND))\n\nCalculamos el odds ratio(razón de probabilidad),\n\nresultado_or &lt;- (33679/35054) /(36429/32305)\nprint(resultado_or)\n\n[1] 0.8520088\n\n\nSe realiza la prueba de Chi-cuadrado para evaluar la significación estadística de la asociación:\n\ntest_chi_cuadrado &lt;- chisq.test(tabla_contingencia)\nprint(test_chi_cuadrado)\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  tabla_contingencia\nX-squared = 95.44, df = 1, p-value &lt; 2.2e-16\n\n\nSi necesitas un modelo más ajustado o controlar por confundidores, considera utilizar una regresión logística:\n\nmodelo_logistico &lt;- glm(cardioND ~ activeND, data = datos, family = \"binomial\")\nsummary(modelo_logistico)\n\n\nCall:\nglm(formula = cardioND ~ activeND, family = \"binomial\", data = datos)\n\nCoefficients:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)  0.13074    0.01724   7.582  3.4e-14 ***\nactiveND    -0.18790    0.01923  -9.771  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 95279  on 68733  degrees of freedom\nResidual deviance: 95183  on 68732  degrees of freedom\nAIC: 95187\n\nNumber of Fisher Scoring iterations: 3\n\n\nPara obtener el OR de la regresión logística\n\nexp(coef(modelo_logistico))\n\n(Intercept)    activeND \n  1.1396675   0.8286949"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Collaborators:\n\nKarla Isabel Colín González.\nDiana López Romero.\nJuan Carlos García Andrade."
  }
]